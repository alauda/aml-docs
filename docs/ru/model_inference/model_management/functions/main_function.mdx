---
weight: 10
sourceSHA: dd55be255e34345452fed8cb9b97273df9a3d5df1a79970fa3fd2936a998da21
---

# Введение в функциональность

Основное определение функции репозитория моделей - это предоставление системы хранения с контролем версий на основе Git для моделей машинного обучения, что позволяет командам управлять файлами моделей, отслеживать версии и сотрудничать между арендаторами. Система использует **Git LFS** для хранения больших файлов и интегрируется с рабочими процессами MLOps, позволяя сглаживать процесс разработки и развертывания моделей.

## Преимущества

1. **Контроль версий на основе Git**
   - Отслеживайте изменения моделей через коммиты / ветки / метки, что обеспечивает воспроизводимость.
2. **Высокоскоростные передачи**
   - Загрузки через CLI / ноутбуки используют внутреннюю пропускную способность сети (например, ускорение в одном дата-центре для AML-ноутбуков).
3. **Обмен между арендаторами**
   - Общие модели могут быть доступны через пространства имен (например, `public` как рынок моделей).
4. **Бесшовная интеграция**
   - Прямое развертывание моделей из репозитория в службы вывода.

## Применимые сценарии

- **Сотрудничество в команде**
  - Несколько ученых данных одновременно обновляют и версионируют модели в одном репозитории.
- **Аудит моделей**
  - Отслеживание исторических версий через коммиты / метки Git для соблюдения требований.
- **Централизованное управление активами**
  - Организация частных / общих моделей в едином центре с метаданными (например, теги / описания).

## Привнесенная ценность

- **Воспроизводимость**
  - Закрепите версии моделей с помощью меток (например, `production/v1.2`), чтобы избежать рассогласования между обучением и выводом.
- **Эффективность**
  - Загрузки через CLI обходят ограничения браузера для больших файлов (>10 ГБ).
- **Безопасность**
  - Изоляция арендаторов через учетные данные GitLab предотвращает несанкционированный доступ.
- **Снижение затрат**
  - Исключение избыточного хранения за счет повторного использования общих моделей (например, весов BERT из открытого доступа).

## Основные функции

**Создание и удаление репозитория моделей**

- Создайте пустой репозиторий с поддержкой Git с метаданными (название / описание / доступность).
- Удалите модели после проверки зависимостей (например, убедитесь, что нет активных служб вывода).

**Управление файлами**

- **Загрузка через веб-интерфейс**
  - Перетаскивание файлов / папок (ограничено для небольших и средних размеров).
- **CLI / Git LFS**
  - Используйте `git lfs track` для больших файлов (например, `*.bin`, `*.h5`).
  - Пример:
    ```bash
    git clone <model_repo_url>
    git lfs install
    cp ~/local_model/* . && git add . && git commit -m "v1.0" && git push
    ```

**Контроль версий**

- **Ветвление**
  - Поддерживайте параллельные версии (например, ветка `experimental` против `main`).
- **Метки**
  - Отметьте выпуски через пользовательский интерфейс / CLI (например, `git tag -a v2.0 -m "Стабильный выпуск"`).
- **Синхронизация метаданных**
  - Автоматическое чтение `README.md` из основной ветки для описания модели.

**Обмен между арендаторами**

- **Общие модели**
  - Установите доступность "Общее" при создании для доступа между арендаторами.
- **Общественный рынок**
  - Используйте пространство имен `public` для публикации моделей с открытым исходным кодом (например, преобразования HuggingFace).

**Интеграция с MLOps**

- **Готовность к развертыванию**
  - Запуск службы вывода одним щелчком мыши из отмеченных версий модели.
- **Интеграция в ноутбуки**
  - Прямое извлечение моделей в AML-ноутбуки для тестирования:
    ```bash
    !git clone https://aml-public/resnet50.git
    ```

## Технические заметки

- **Требование Git LFS**
  - Необходимо включить `.gitattributes`, чтобы указать файлы, отслеживаемые LFS (например, `*.zip filter=lfs diff=lfs merge=lfs`).
- **Правила основной ветки**
  - Некорректно настроенные метаданные `README.md` могут блокировать развертывание вывода.

## Создать репозиторий модели

<Steps>
  ### Шаг 1

  | Параметры   | Описание                                                                         |
  | :---------- | :-------------------------------------------------------------------------------- |
  | Название    | Обязательно, название репозитория модели.                                        |
  | Метки       | Пользовательские теги для категоризации и поиска. (например, "CV", "NLP", "production") |
  | Описание    | Подробное объяснение цели репозитория, типа модели или рекомендаций по использованию. |

  ### Шаг 2

  `Создать` пустой репозиторий.

  ### Шаг 3

  Загрузите файлы модели

  Вы можете загружать файлы модели с помощью одного из следующих методов:

  Вариант 1: Загрузка через веб-интерфейс

  - Используйте интерфейс управления файлами для загрузки файлов
  - Перетяните файлы / папки в указанную область
  - Поддерживаемые форматы: Все типы файлов моделей (.h5, .bin, .pt и т.д.)
  - Отслеживание процесса с реальным статусом загрузки

  Вариант 2: Загрузка через командную строку Git

  1. Получите адрес репозитория:

  - Перейдите в Подробная информация → Основная информация
  - Скопируйте URL-адрес Git-репозитория (например, https\://\<your-domain>/\<namespace>/\<repo-name>.git)

  2. Загрузите через Git:

  ```bash

  # Клонирование репозитория
  git clone <repository-url>

  # Перейдите в директорию репозитория
  cd <repo-name>

  # Инициализация Git LFS (если еще не настроено)
  git lfs install

  # Добавьте файлы модели (замените на ваши фактические файлы)
  cp -r /path/to/your/model/files/* .

  # Настройка отслеживания LFS (для больших файлов)
  git lfs track "*.h5" "*.bin" "*.pt"

  # Коммит и пуш
  git add .
  git commit -m "Добавить файлы модели v1.0"
  git push origin main

  ```
</Steps>
