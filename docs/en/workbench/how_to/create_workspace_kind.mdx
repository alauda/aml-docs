---
weight: 13
---

# Create WorkspaceKind

## Prerequisites

- Ensure you are Cluster Admin.
- Ensure you have `kubectl` configured and connected to your cluster.
- Ensure you have created `SA`.

## Procedure
<Steps>
### Create SA

Create a file workbench-sa-with-rolebinding.yaml with following lines, and run kubectl apply -f workbench-sa-with-rolebinding.yaml to create service account used by workbench instances in the namespace.

:::details
```yaml
apiVersion: v1
kind: ServiceAccount
metadata:
name: workbench-editor
namespace: NAMESPACE_NAME # [!code callout]
---
apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
name: workbench-sa-binding
subjects:
- kind: ServiceAccount
name: workbench-editor
namespace: NAMESPACE_NAME # [!code callout]
roleRef:
kind: ClusterRole
name: aml-namespace-editor
apiGroup: rbac.authorization.k8s.io
```
<Callouts>
  1. NAMESPACE_NAME should be same with the namespace of workbench created.
  2. Same as above.
</Callouts>
:::

### Create `WorkspaceKind` using CLI

:::warning
- When use `jupyterlab_v1beta1_workspacekind.yaml`, please change `CLUSTER_NAME` in `NB_FREIX` to your target cluster name, which is WorkspaceKind will be created at.
- When creating `WorkspaceKind`, image URL must be changed to the actually one for the current local cluster !!!
:::

- Save the <a href="/workbench/codeserver_v1beta1_workspacekind.yaml" target='_blank'>`codeserver_v1beta1_workspacekind.yaml`</a> file and execute the command:
  ```bash
  kubectl apply -f codeserver_v1beta1_workspacekind.yaml
  ```

- Save the <a href="/workbench/jupyterlab_v1beta1_workspacekind.yaml" target='_blank'>`jupyterlab_v1beta1_workspacekind.yaml`</a> file and execute the command:
  ```bash
  kubectl apply -f jupyterlab_v1beta1_workspacekind.yaml
  ```
</Steps>
